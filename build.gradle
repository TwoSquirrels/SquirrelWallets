import org.yaml.snakeyaml.Yaml
import org.json.JSONObject

buildscript {
    repositories{
        mavenCentral()
    }
    dependencies {
        classpath("org.yaml:snakeyaml:1.17")
        classpath("org.json:json:20210307")
    }
}

plugins {
    id 'java'
    id 'maven-publish'
    id 'groovy'
}

Yaml yaml = new Yaml()
JSONObject pluginInfo = new JSONObject((Map<String, Object>) yaml.load(
        new FileInputStream(new File("$projectDir/src/main/resources/plugin.yml"))
))

repositories {
    mavenLocal()
    maven {
        url = uri('https://hub.spigotmc.org/nexus/content/repositories/snapshots/')
    }

    maven {
        url = uri('https://oss.sonatype.org/content/groups/public/')
    }

    maven {
        url = uri('https://repo.maven.apache.org/maven2/')
    }
}

dependencies {
    compileOnly 'org.spigotmc:spigot-api:1.16.5-R0.1-SNAPSHOT'
}

group = 'io.github.twosquirrels'
version = '1.0-SNAPSHOT'
description = 'SquirrelWallets'

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}
